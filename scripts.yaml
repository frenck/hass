---

morning_tts:
  alias: Morning TTS
  sequence:
    - service: media_player.media_stop
      data:
        entity_id: media_player.volumio_mpd
    - service: media_player.volume_set
      data:
        entity_id: media_player.volumio_volumio_local
        volume_level: 0.22
    - service: tts.google_translate_say
      data_template:
        entity_id: media_player.volumio_mpd
        message: "Good morning! The current time is {{ now().strftime('%H:%M') }}. Today's weather is {{ state_attr('weather.katl', 'forecast')[0].detailed_description }}. Here's the news."
    - wait_template: "{{ not is_state('media_player.volumio_mpd', 'playing') }}"
    - service: media_player.play_media
      data_template:
        entity_id: media_player.volumio_mpd
        media_content_type: music
        media_content_id: "{{ states('sensor.npr_news_scrape') }}"
rain_tts:
  alias: Rain TTS
  sequence:
    - service: media_player.media_stop
      data:
        entity_id: media_player.volumio_mpd
    - service: media_player.volume_set
      data:
        entity_id: media_player.volumio_volumio_local
        volume_level: 0.4
    - service: tts.google_translate_say
      data_template:
        entity_id: media_player.volumio_mpd
        message: "Attention! The windows are open and the weather is {{ states('sensor.precip_type') }}."
house_cold:
  alias: It's Cold
  sequence:
    - service: climate.set_temperature
      data_template:
        entity_id: climate.ct_100
        temperature: "{{ state_attr('climate.ct_100', 'temperature') + 1 }}"
    - service: input_boolean.turn_on
      entity_id: input_boolean.climate_override
house_hot:
  alias: It's Hot
  sequence:
    - service: climate.set_temperature
      data_template:
        entity_id: climate.ct_100
        temperature: "{{ state_attr('climate.ct_100', 'temperature') - 1 }}"
    - service: input_boolean.turn_on
      entity_id: input_boolean.climate_override
apple_tv_on:
  sequence:
    - service: remote.send_command
      data:
        entity_id: remote.apple_tv
        command: 'wakeup'
    - service: remote.turn_on
      entity_id: remote.apple_tv
apple_tv_off:
  sequence:
    - service: remote.send_command
      data:
        entity_id: remote.apple_tv
        command: 'home_hold'
    - delay:
        seconds: 2
    - service: remote.send_command
      data:
        entity_id: remote.apple_tv
        command: 'select'
    - service: remote.turn_off
      entity_id: remote.apple_tv
