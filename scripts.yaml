---

rain_tts:
  alias: Rain TTS
  sequence:
    - service: media_player.media_stop
      data:
        entity_id: media_player.volumio_mpd
    - service: media_player.volume_set
      data:
        entity_id: media_player.volumio_volumio_local
        volume_level: 0.4
    - service: tts.google_translate_say
      data_template:
        entity_id: media_player.volumio_mpd
        message: "Attention! The windows are open and the weather is {{ states('sensor.precip_type') }}."
house_cold:
  alias: It's Cold
  sequence:
    - service: climate.set_temperature
      data_template:
        entity_id: climate.thermostat
        target_temp_low: "{{ state_attr('climate.thermostat', 'current_temperature') + 1 }}"
        target_temp_high: "{{ state_attr('climate.thermostat', 'current_temperature') + 3 }}"
    - service: input_boolean.turn_on
      entity_id: input_boolean.climate_override
house_hot:
  alias: It's Hot
  sequence:
    - service: climate.set_temperature
      data_template:
        entity_id: climate.thermostat
        target_temp_low: "{{ state_attr('climate.thermostat', 'current_temperature') - 3 }}"
        target_temp_high: "{{ state_attr('climate.thermostat', 'current_temperature') - 1 }}"
    - service: input_boolean.turn_on
      entity_id: input_boolean.climate_override
apple_tv_on:
  sequence:
    - service: remote.send_command
      data:
        entity_id: remote.apple_tv
        command: 'wakeup'
    - service: remote.turn_on
      entity_id: remote.apple_tv
apple_tv_off:
  sequence:
    - service: remote.send_command
      data:
        entity_id: remote.apple_tv
        command: 'home_hold'
    - delay:
        seconds: 2
    - service: remote.send_command
      data:
        entity_id: remote.apple_tv
        command: 'select'
    - service: remote.turn_off
      entity_id: remote.apple_tv
